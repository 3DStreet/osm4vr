<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>ctrlw's VR experiments</title>
  <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
</head>
<body>
  <a-scene>
    <a-entity id="info" text="value: Hello World;" position="1 1 1" scale="2 2 1"></a-entity>
    <a-entity position="0 1.8 0" camera look-controls wasd-controls></a-entity>
    <a-entity id="leftHand" laser-controls="hand: left" raycaster="objects: [mixin='box']"></a-entity>
    <a-entity id="rightHand" laser-controls="hand: right" raycaster="objects: [mixin='box']" line="color: #118A7E"></a-entity>

    <a-sky color="#660000"></a-sky>
    <!--a-box color="#0000ff" position="0 0 0" width="1" height="2" depth="1"></a-box>
    <a-box color="#0000aa" position="1 1 -1" width="1" height="1" depth="1"></a-box-->
  </a-scene>
  
  <script>
    var scene = document.querySelector('a-scene');
    let max_x = 10;
    let max_y = 10;
    let max_h = 15;
    for (let x = 0; x < max_x; ++x) {
      for (let y = 0; y < max_y; ++y) {
        let h = 3 - Math.floor(Math.log2(Math.ceil(Math.random() * max_h)));
        let box = document.createElement('a-box');

        box.setAttribute('height', h);
        let pos = [x, h/2, -y];
        box.setAttribute('position', pos.join(' '));

        let color = h < 2 ? '#00FF00' : '#AAAAAA';
        box.setAttribute('color', color);
        scene.appendChild(box);
      }
    }
  </script>
</body>
</html>